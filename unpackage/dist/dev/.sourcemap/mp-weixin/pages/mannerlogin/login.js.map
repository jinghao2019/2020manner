{"version":3,"sources":["webpack:///X:/vue/manner/main.js","webpack:///X:/vue/manner/pages/mannerlogin/login.vue?3e39","webpack:///X:/vue/manner/pages/mannerlogin/login.vue?8bb0","webpack:///X:/vue/manner/pages/mannerlogin/login.vue?2a66","webpack:///X:/vue/manner/pages/mannerlogin/login.vue?4dbc","webpack:///X:/vue/manner/pages/mannerlogin/login.vue"],"names":["createPage","Page","data","referer","onLoad","option","methods","wxlogin","n","that","uni","login","provider","success","loginRes","code","getUserInfo","infoRes","user_info","rawData","encrypted_data","encryptedData","iv","signature","$H","post","token","then","res","console","log","switchTab","url","navigateTo"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;;AAEnB;AACA,kG;AACAA,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;;;AAGpD;AACoM;AACpM,gBAAgB,6MAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA0vB,CAAgB,+wBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;ACQ7wB,gD;;AAEkB;AACXC,MADW,kBACJ;AACH,WAAO;AACHC,aAAO,EAAC,IADL,EAAP;;AAGH,GALU;AAMjBC,QANiB,kBAMVC,MANU,EAMF;AACd,SAAKF,OAAL,GAAeE,MAAM,CAACF,OAAP,GAAiBE,MAAM,CAACF,OAAxB,GAAkC,IAAjD;AACA,GARgB;AASXG,SAAO;AACT,0BAAa,CAAC,OAAD,CAAb,CADS;AAEZC,WAFY,mBAEJC,CAFI,EAEF;AACT,UAAIC,IAAI,GAAG,IAAX;;AAEAC,SAAG,CAACC,KAAJ,CAAU;AACRC,gBAAQ,EAAE,QADF;AAERC,eAAO,EAAE,iBAAUC,QAAV,EAAoB;AAC3B;AACA,cAAIC,IAAI,GAAGD,QAAQ,CAACC,IAApB;AACHL,aAAG,CAACM,WAAJ,CAAgB;AACfJ,oBAAQ,EAAE,QADK;AAEfC,mBAAO,EAAC,iBAASI,OAAT,EAAiB;AACxB;AACA,kBAAIf,IAAI,GAAG;AACVa,oBAAI,EAAEA,IADI;AAEVG,yBAAS,EAAED,OAAO,CAACE,OAFT;AAGVC,8BAAc,EAACH,OAAO,CAACI,aAHb;AAIVC,kBAAE,EAAEL,OAAO,CAACK,EAJF;AAKVC,yBAAS,EAAEN,OAAO,CAACM,SALT,EAAX;;AAOC;AACD;AACAd,kBAAI,CAACe,EAAL,CAAQC,IAAR,CAAa,wBAAb,EAAsCvB,IAAtC,EAA2C;AAC1C;AACAwB,qBAAK,EAAC,KAFoC,EAA3C;AAGGC,kBAHH,CAGQ,UAACC,GAAD,EAAO;AACd;AACAnB,oBAAI,CAACE,KAAL,CAAWiB,GAAX;AACA;AACqB,oBAAInB,IAAI,CAACN,OAAT,EAAkB;AACtC0B,yBAAO,CAACC,GAAR,CAAY,MAAZ;AACqBpB,qBAAG,CAACqB,SAAJ,CAAc;AACbC,uBAAG,EAAEvB,IAAI,CAACN;AACV;AAFa,mBAAd;;AAKrBO,qBAAG,CAACuB,UAAJ,CAAe;AACdD,uBAAG,EAAEvB,IAAI,CAACN;AACV;AAFc,mBAAf;AAIqB,iBAXD,MAWO;AAC3B0B,yBAAO,CAACC,GAAR,CAAY,MAAZ;AACqB;AACrBD,yBAAO,CAACC,GAAR,CAAY,WAAZ;AACqB;AACtB,eAvBD;;AAyBA,aAtCc,EAAhB;;AAwCA;AACE,SA9CO,EAAV;;AAgDA,KArDW,GATI,E","file":"pages/mannerlogin/login.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/mannerlogin/login.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./login.vue?vue&type=template&id=4f44c63e&scoped=true&\"\nvar renderjs\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!Y:\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f44c63e\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"X:/vue/manner/pages/mannerlogin/login.vue\"\nexport default component.exports","export * from \"-!Y:\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!Y:\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!Y:\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!Y:\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!Y:\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!Y:\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=template&id=4f44c63e&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!Y:\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!Y:\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!Y:\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!Y:\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!Y:\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!Y:\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!Y:\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!Y:\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!Y:\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!Y:\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n\n\timport {mapMutations} from 'vuex';\n\n    export default {\n        data() {\n            return {\n                referer:null\n            };\n        },\n\t\tonLoad(option) {\n\t\t\tthis.referer = option.referer ? option.referer : null\n\t\t},\n        methods: {\n\t\t\t...mapMutations(['login']), \n\t\t\twxlogin(n){\n\t\t\t\tvar that = this;\n\t\t\t\t\n\t\t\t\tuni.login({\n\t\t\t\t  provider: 'weixin',\n\t\t\t\t  success: function (loginRes) {\n\t\t\t\t    //获取code\n\t\t\t\t    let code = loginRes.code;\n\t\t\t\t\tuni.getUserInfo({\n\t\t\t\t\t\tprovider: \"weixin\",\n\t\t\t\t\t\tsuccess:function(infoRes){\n\t\t\t\t\t\t\t//拼接往后台发送的数据\n\t\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\t\tcode: code,\n\t\t\t\t\t\t\t\tuser_info: infoRes.rawData,\n\t\t\t\t\t\t\t\tencrypted_data:infoRes.encryptedData,\n\t\t\t\t\t\t\t\tiv: infoRes.iv,\n\t\t\t\t\t\t\t\tsignature: infoRes.signature\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t // console.log(infoRes.rawData)\n\t\t\t\t\t\t\t//发起登录请求\n\t\t\t\t\t\t\tthat.$H.post('/mannerdish/user/login',data,{\n\t\t\t\t\t\t\t\t// 这里登录是没有token的情况不进行token检测\n\t\t\t\t\t\t\t\ttoken:false,\n\t\t\t\t\t\t\t}).then((res)=>{\n\t\t\t\t\t\t\t\t//vuex登录方法 进行登录状态存储\n\t\t\t\t\t\t\t\tthat.login(res)\n\t\t\t\t\t\t\t\t//跳转操作跳转到登录前的页面\n\t                            if (that.referer) {\n\t\t\t\t\t\t\t\t\tconsole.log(\"nav1\")\n\t                            \tuni.switchTab({\n\t                            \t\turl: that.referer,\n\t                            \t\t// fail: that.toCenter(),\n\t                            \t})\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\t\t\t\turl: that.referer,\n\t\t\t\t\t\t\t\t\t\t// fail: that.toCenter(),\n\t\t\t\t\t\t\t\t\t})\n\t                            } else {\n\t\t\t\t\t\t\t\t\tconsole.log(\"nav2\")\n\t                            \t// this.toCenter()\n\t\t\t\t\t\t\t\t\tconsole.log(\"不知道要跳转到哪里\")\n\t                            }\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\treturn\t\t\t\t \n\t\t\t\t  }\n\t\t\t\t});\n\t\t\t}\n        }\n    }\n"],"sourceRoot":""}